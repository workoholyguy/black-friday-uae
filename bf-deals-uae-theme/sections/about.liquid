{% doc %}
  About page section.

  Renders a premium About page layout with an optional hero image, page content
  (or section content), and optional stats + values cards.
{% enddoc %}

{% liquid
  assign eyebrow = section.settings.eyebrow | default: blank
  assign heading = section.settings.heading | default: blank
  assign subheading = section.settings.subheading | default: blank

  assign cta_label = section.settings.cta_label | default: blank
  assign cta_link = section.settings.cta_link | default: blank

  assign body_html = blank
  if section.settings.use_page_content
    assign body_html = page.content | default: blank
  else
    assign body_html = section.settings.body | default: blank
  endif

  assign stat_1_value = section.settings.stat_1_value | default: blank
  assign stat_1_label = section.settings.stat_1_label | default: blank
  assign stat_2_value = section.settings.stat_2_value | default: blank
  assign stat_2_label = section.settings.stat_2_label | default: blank
  assign stat_3_value = section.settings.stat_3_value | default: blank
  assign stat_3_label = section.settings.stat_3_label | default: blank

  assign value_1_title = section.settings.value_1_title | default: blank
  assign value_1_copy = section.settings.value_1_copy | default: blank
  assign value_2_title = section.settings.value_2_title | default: blank
  assign value_2_copy = section.settings.value_2_copy | default: blank
  assign value_3_title = section.settings.value_3_title | default: blank
  assign value_3_copy = section.settings.value_3_copy | default: blank

  assign about_title_fallback = 'about.title_fallback' | t
  assign about_stat_1_value_fallback = 'about.stat_1_value' | t
  assign about_stat_1_label_fallback = 'about.stat_1_label' | t
  assign about_stat_2_value_fallback = 'about.stat_2_value' | t
  assign about_stat_2_label_fallback = 'about.stat_2_label' | t
  assign about_stat_3_value_fallback = 'about.stat_3_value' | t
  assign about_stat_3_label_fallback = 'about.stat_3_label' | t
  assign about_value_1_title_fallback = 'about.value_1_title' | t
  assign about_value_1_copy_fallback = 'about.value_1_copy' | t
  assign about_value_2_title_fallback = 'about.value_2_title' | t
  assign about_value_2_copy_fallback = 'about.value_2_copy' | t
  assign about_value_3_title_fallback = 'about.value_3_title' | t
  assign about_value_3_copy_fallback = 'about.value_3_copy' | t
%}

<section
  class="about full-width"
  style="
    --about-bg: {{ section.settings.background_color | default: 'transparent' }};
    --about-card-bg: {{ section.settings.card_background_color | default: 'transparent' }};
  "
>
  <div class="about__inner">
    <header class="about__hero">
      <div class="about__copy">
        {% if eyebrow != blank %}
          <p class="about__eyebrow">{{ eyebrow | escape }}</p>
        {% else %}
          <p class="about__eyebrow">{{ 'about.eyebrow' | t }}</p>
        {% endif %}

        {% if heading != blank %}
          <h1 class="about__title">{{ heading | escape }}</h1>
        {% else %}
          <h1 class="about__title">{{ page.title | default: about_title_fallback | escape }}</h1>
        {% endif %}

        {% if subheading != blank %}
          <p class="about__subtitle">{{ subheading | escape }}</p>
        {% else %}
          <p class="about__subtitle">{{ 'about.subtitle_fallback' | t }}</p>
        {% endif %}

        {% if section.settings.show_cta %}
          {% if cta_label != blank %}
            <a class="about__cta" href="{{ cta_link | default: routes.search_url }}">
              {{ cta_label | escape }}
            </a>
          {% else %}
            <a class="about__cta" href="{{ cta_link | default: routes.search_url }}">
              {{ 'about.cta_button_fallback' | t }}
            </a>
          {% endif %}
        {% endif %}
      </div>

      {% if section.settings.hero_image %}
        <div class="about__media">
          {{
            section.settings.hero_image
            | image_url: width: 1600
            | image_tag: widths: '480, 720, 960, 1200, 1600', class: 'about__image'
          }}
        </div>
      {% endif %}
    </header>

    {% if body_html != blank %}
      <div class="about__content">
        <h2 class="about__section-title">{{ 'about.section_title_fallback' | t }}</h2>
        <div class="about__rte rte">
          {{ body_html }}
        </div>
      </div>
    {% endif %}

    {% if section.settings.show_stats %}
      <section class="about__stats" aria-label="{{ 'about.stats_title' | t | escape }}">
        <h2 class="about__section-title">{{ 'about.stats_title' | t }}</h2>
        <div class="about__stats-grid">
          <div class="about__stat">
            <div class="about__stat-value">{{ stat_1_value | default: about_stat_1_value_fallback | escape }}</div>
            <div class="about__stat-label">{{ stat_1_label | default: about_stat_1_label_fallback | escape }}</div>
          </div>
          <div class="about__stat">
            <div class="about__stat-value">{{ stat_2_value | default: about_stat_2_value_fallback | escape }}</div>
            <div class="about__stat-label">{{ stat_2_label | default: about_stat_2_label_fallback | escape }}</div>
          </div>
          <div class="about__stat">
            <div class="about__stat-value">{{ stat_3_value | default: about_stat_3_value_fallback | escape }}</div>
            <div class="about__stat-label">{{ stat_3_label | default: about_stat_3_label_fallback | escape }}</div>
          </div>
        </div>
      </section>
    {% endif %}

    {% if section.settings.show_values %}
      <section class="about__values" aria-label="{{ 'about.values_title' | t | escape }}">
        <h2 class="about__section-title">{{ 'about.values_title' | t }}</h2>
        <div class="about__values-grid">
          <article class="about__card">
            <h3 class="about__card-title">{{ value_1_title | default: about_value_1_title_fallback | escape }}</h3>
            <p class="about__card-copy">{{ value_1_copy | default: about_value_1_copy_fallback | escape }}</p>
          </article>
          <article class="about__card">
            <h3 class="about__card-title">{{ value_2_title | default: about_value_2_title_fallback | escape }}</h3>
            <p class="about__card-copy">{{ value_2_copy | default: about_value_2_copy_fallback | escape }}</p>
          </article>
          <article class="about__card">
            <h3 class="about__card-title">{{ value_3_title | default: about_value_3_title_fallback | escape }}</h3>
            <p class="about__card-copy">{{ value_3_copy | default: about_value_3_copy_fallback | escape }}</p>
          </article>
        </div>
      </section>
    {% endif %}
  </div>
</section>

{% stylesheet %}
  .about {
    background: var(--about-bg);
    color: var(--color-foreground);
  }

  .about__inner {
    display: grid;
    grid-template-columns: var(--content-grid);
    padding-block: clamp(1.75rem, 4vw, 3.5rem);
  }

  .about__inner > * {
    grid-column: 2;
  }

  .about__hero {
    display: grid;
    grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
    gap: clamp(1rem, 3vw, 2rem);
    align-items: center;
  }

  .about__copy {
    display: grid;
    gap: .75rem;
  }

  .about__eyebrow {
    display: none;
    margin: 0;
    width: fit-content;
    padding: .35rem .65rem;
    border-radius: 999px;
    background: color-mix(in oklab, var(--color-foreground) 6%, transparent);
    border: 1px solid color-mix(in oklab, var(--color-foreground) 12%, transparent);
    font-size: .85rem;
    letter-spacing: .08em;
    text-transform: uppercase;
    opacity: .9;
  }

  .about__title {
    margin: 0;
    line-height: 1.05;
    font-size: clamp(2rem, 4.8vw, 3.25rem);
    color: var(--color-foreground);
  }

  .about__subtitle {
    margin: 0;
    max-width: 70ch;
    font-size: clamp(1rem, 2vw, 1.2rem);
    line-height: 1.55;
    opacity: .9;
  }

  .about__cta {
    justify-self: start;
    margin-top: .35rem;
    display: inline-flex;
    align-items: center;
    gap: .5rem;
    padding: .7rem 1.05rem;
    border-radius: 999px;
    text-decoration: none;
    background: var(--color-primary);
    color: var(--color-accent);
    font-weight: 600;
    box-shadow: 0 12px 30px color-mix(in oklab, var(--color-primary) 35%, transparent);
  }

  .about__media {
    justify-self: end;
    width: min(520px, 100%);
  }

  .about__image {
    display: block;
    width: 100%;
    height: auto;
    border-radius: 18px;
    border: 1px solid color-mix(in oklab, var(--color-foreground) 12%, transparent);
    box-shadow: 0 18px 50px color-mix(in oklab, var(--color-foreground) 16%, transparent);
  }

  .about__content {
    margin-top: clamp(1.25rem, 3vw, 2rem);
  }

  .about__section-title {
    margin: 0 0 .75rem 0;
    font-size: 1.15rem;
    letter-spacing: .02em;
    color: var(--color-foreground);
  }

  .about__rte {
    line-height: 1.7;
  }

  .about__stats,
  .about__values {
    margin-top: clamp(1.5rem, 3.5vw, 2.5rem);
  }

  .about__stats-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: clamp(.75rem, 2vw, 1.25rem);
  }

  .about__stat {
    padding: 1rem 1.1rem;
    border-radius: 16px;
    background: #000;
    border: 1px solid red;
  }

  .about__stat-value {
    color: white;
    font-size: 1.35rem;
    font-weight: 750;
    letter-spacing: -.02em;
  }

  .about__stat-label {
    color: white;
    margin-top: .25rem;
    opacity: .85;
  }

  .about__values-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: clamp(.75rem, 2vw, 1.25rem);
  }

  .about__card {
    padding: 1.15rem 1.15rem 1.25rem;
    border-radius: 18px;
    background: #000;
    color:white;
    border: 1px solid red;
  }

  .about__card-title {
    margin: 0 0 .35rem 0;
    font-size: 1.05rem;
  }

  .about__card-copy {
    margin: 0;
    opacity: .88;
    line-height: 1.6;
  }

  @media (max-width: 900px) {
    .about__hero {
      grid-template-columns: 1fr;
    }
    .about__media {
      justify-self: start;
      width: min(640px, 100%);
    }
    .about__stats-grid,
    .about__values-grid {
      grid-template-columns: 1fr;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.about",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "t:labels.background"
    },
    {
      "type": "color",
      "id": "card_background_color",
      "label": "t:labels.card_background"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "t:labels.image"
    },
    {
      "type": "text",
      "id": "eyebrow",
      "label": "t:labels.eyebrow"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "t:labels.heading"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "t:labels.subheading"
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "t:labels.show_cta",
      "default": true
    },
    {
      "type": "text",
      "id": "cta_label",
      "label": "t:labels.button_label"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "t:labels.button_link"
    },
    {
      "type": "checkbox",
      "id": "use_page_content",
      "label": "t:labels.use_page_content",
      "default": true
    },
    {
      "type": "richtext",
      "id": "body",
      "label": "t:labels.body"
    },
    {
      "type": "checkbox",
      "id": "show_stats",
      "label": "t:labels.show_stats",
      "default": true
    },
    { "type": "text", "id": "stat_1_value", "label": "t:labels.stat_1_value" },
    { "type": "text", "id": "stat_1_label", "label": "t:labels.stat_1_label" },
    { "type": "text", "id": "stat_2_value", "label": "t:labels.stat_2_value" },
    { "type": "text", "id": "stat_2_label", "label": "t:labels.stat_2_label" },
    { "type": "text", "id": "stat_3_value", "label": "t:labels.stat_3_value" },
    { "type": "text", "id": "stat_3_label", "label": "t:labels.stat_3_label" },
    {
      "type": "checkbox",
      "id": "show_values",
      "label": "t:labels.show_values",
      "default": true
    },
    { "type": "text", "id": "value_1_title", "label": "t:labels.value_1_title" },
    { "type": "text", "id": "value_1_copy", "label": "t:labels.value_1_copy" },
    { "type": "text", "id": "value_2_title", "label": "t:labels.value_2_title" },
    { "type": "text", "id": "value_2_copy", "label": "t:labels.value_2_copy" },
    { "type": "text", "id": "value_3_title", "label": "t:labels.value_3_title" },
    { "type": "text", "id": "value_3_copy", "label": "t:labels.value_3_copy" }
  ],
  "presets": [
    {
      "name": "t:general.about"
    }
  ]
}
{% endschema %}


